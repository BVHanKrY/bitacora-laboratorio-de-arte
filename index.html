<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bit√°cora Segundo Semestre | UArtes</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --paper:#fffaf2;
      --stroke:#e7cfad;
      --text:#2f2f2f;
      --muted:#6b6b6b;
      --accent:#b76a2b;
      --shadow2: 0 6px 14px rgba(0,0,0,0.08);
      --radius: 16px;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }

    body{
      margin:0;
      font-family:'Roboto', sans-serif;
      color:var(--text);
      overflow-x:hidden;

      background:
        linear-gradient(rgba(255,250,242,0.55), rgba(255,250,242,0.55)),
        url("https://raw.githubusercontent.com/BVHanKrY/bitacora-laboratorio-de-arte/refs/heads/main/Captura%20de%20pantalla%202026-01-30%20223710.png")
        center/cover fixed no-repeat;
    }

    .page{
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px 16px 40px;
    }

    /* Header */
    header{
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: rgba(242,213,168,0.75);
      border-bottom: 1px solid rgba(231,207,173,0.8);
    }

    .header-inner{
      max-width:1200px;
      margin:0 auto;
      padding: 14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:4px;
      line-height:1.1;
      min-width: 220px;
    }
    .brand h1{
      font-size: 18px;
      margin:0;
      font-weight:700;
      letter-spacing:0.2px;
    }
    .brand p{
      margin:0;
      font-size:13px;
      color:var(--muted);
    }

    /* ====== Bot√≥n hamburguesa (semanas) SOLO en header ====== */
    .iconbtn{
      width: 44px;
      height: 44px;
      border-radius: 14px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.65);
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      transition: transform .12s ease, background .12s ease;
    }
    .iconbtn:hover{
      transform: translateY(-1px);
      background: rgba(255,250,242,0.90);
    }
    .iconbtn:focus{
      outline: 2px solid rgba(183,106,43,0.35);
      outline-offset: 2px;
    }

    .burger-lines{
      width: 18px;
      height: 12px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .burger-lines span{
      display:block;
      height: 2px;
      border-radius: 999px;
      background: rgba(47,47,47,0.80);
    }

    /* ====== Dropdown general ====== */
    .dropdown{
      width: min(260px, 88vw);
      padding: 10px;
      border-radius: 16px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.92);
      box-shadow: 0 18px 40px rgba(0,0,0,0.18);
      backdrop-filter: blur(10px);
      display:none;
      z-index: 999;
    }
    .dropdown.open{ display:block; }

    .dropdown h4{
      margin: 6px 8px 8px;
      font-size: 12px;
      color: var(--muted);
      font-weight:700;
      letter-spacing: 0.6px;
      text-transform: uppercase;
    }

    .dropdown a, .dropdown button{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      text-decoration:none;
      font-size: 13px;
      color: var(--text);
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid rgba(231,207,173,0.75);
      background: rgba(255,255,255,0.70);
      transition: transform .12s ease, background .12s ease;
      margin: 6px 0;
      cursor:pointer;
    }
    .dropdown a:hover, .dropdown button:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.95);
    }
    .dropdown .tag{
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      color: var(--muted);
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.85);
    }

    /* Men√∫ semanas: anclado al header */
    .weeks-wrap{ position: relative; }
    .weeks-dropdown{
      position: absolute;
      right: 0;
      top: calc(100% + 10px);
    }

    /* ====== Bot√≥n ‚ãØ FUERA del header (m√≥vil) ====== */
    .tools-float{
      display:none;
      position: fixed;
      right: 16px;
      z-index: 70;

      border: none;
      background: transparent;
      padding: 10px;
      border-radius: 999px;
      -webkit-tap-highlight-color: transparent;
      cursor: pointer;
    }
    .tools-float:focus{ outline: none; }
    .tools-float .dots-icon{
      font-size: 26px;
      line-height: 1;
      color: rgba(47,47,47,0.75);
      user-select:none;
      display:block;
    }

    .tools-dropdown{
      position: fixed;
      right: 16px;
      z-index: 999;
    }

    /* ====== Intro ====== */
    .hero{
      margin-top: 18px;
      padding: 18px;
      background: rgba(255,250,242,0.75);
      border: 1px solid rgba(231,207,173,0.9);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }
    .hero .left{
      flex: 1 1 520px;
      min-width: 260px;
    }
    .hero h2{ margin:0 0 8px; font-size: 20px; }
    .hero p{
      margin:0;
      color:var(--muted);
      line-height:1.5;
      font-size: 14px;
    }
    .hint{
      flex: 0 0 auto;
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius: 12px;
      background: rgba(255,247,237,0.9);
      border: 1px dashed rgba(183,106,43,0.35);
      color: var(--muted);
      font-size: 13px;
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(183,106,43,0.15);
    }

    /* Cards horizontal */
    .cards-wrap{ margin-top: 18px; padding: 10px 0 6px; }

    .container{
      display:flex;
      gap: 18px;
      overflow-x: auto;
      padding: 18px 6px 18px;
      align-items: stretch;
      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
    }

    .container::-webkit-scrollbar{ height: 10px; }
    .container::-webkit-scrollbar-thumb{
      background: rgba(183,106,43,0.35);
      border-radius: 999px;
    }
    .container::-webkit-scrollbar-track{
      background: rgba(0,0,0,0.06);
      border-radius: 999px;
    }

    .card{
      width: 360px;
      height: 260px;
      flex: 0 0 auto;
      scroll-snap-align: start;

      background: rgba(255, 255, 255, 0.92);
      border: 1px solid rgba(231,207,173,0.8);
      border-radius: 18px;
      padding: 14px;
      box-shadow: 0 14px 30px rgba(0,0,0,0.12);
      position:relative;
      overflow:hidden;

      display:flex;
      flex-direction:column;
    }

    .badge{
      position:absolute;
      top:12px; right:12px;
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255,250,242,0.75);
      border: 1px solid rgba(231,207,173,0.9);
      color: var(--muted);
    }

    .post-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:10px;
    }
    .who{ display:flex; gap:10px; align-items:center; }
    .avatar{
      width:36px; height:36px;
      border-radius:50%;
      background: #2a2a2a;
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:13px;
    }
    .name{ font-weight:700; font-size:13px; }
    .time{ font-size:12px; color:var(--muted); margin-top:2px; }

    /* ====== BOT√ìN ‚ãÆ EN TARJETA (SIN CUADRO) ====== */
    .dots{
      border: none !important;
      background: transparent !important;
      padding: 6px !important;
      border-radius: 999px !important;
      line-height: 1 !important;
      box-shadow: none !important;
      outline: none !important;
      -webkit-tap-highlight-color: transparent;
      cursor:pointer;
      font-size: 22px;
      color: var(--muted);
    }
    .dots:focus,
    .dots:focus-visible,
    .dots:active{
      outline: none !important;
      box-shadow: none !important;
      background: transparent !important;
    }

    /* ====== Men√∫ contextual tipo material (tarjeta) ====== */
    .ctx-menu{
      position:absolute;
      top: 52px;
      right: 12px;
      min-width: 190px;
      padding: 8px;
      border-radius: 14px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.96);
      box-shadow: 0 16px 40px rgba(0,0,0,0.18);
      backdrop-filter: blur(10px);
      display:none;
      z-index: 40; /* m√°s alto para que no lo tape nada */
    }
    .ctx-menu.open{ display:block; }

    .ctx-item{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid rgba(231,207,173,0.65);
      background: rgba(255,255,255,0.75);
      cursor:pointer;
      font-size: 13px;
      color: var(--text);
      margin: 6px 0;
    }
    .ctx-item:hover{
      background: rgba(255,255,255,0.98);
      transform: translateY(-1px);
    }

    .meta{ font-size: 12px; color: var(--muted); margin-bottom: 8px; }

    .card img{
      width:100%;
      height: 120px;
      object-fit: cover;
      border-radius: 12px;
      margin: 6px 0 10px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.5);
      display:none;
    }

    .card p{
      font-size: 14px;
      line-height: 1.5;
      margin:0 0 12px;
      color: #3a3a3a;

      overflow:hidden;
      display:-webkit-box;
      -webkit-line-clamp: 4;
      -webkit-box-orient: vertical;
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:auto;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      text-decoration:none;
      font-size: 13px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.85);
      color: var(--text);
    }
    .btn.primary{
      background: rgba(183,106,43,0.14);
      border-color: rgba(183,106,43,0.30);
      color: #4a2a14;
    }

    /* Panel lateral (desktop) */
    .side{
      position: fixed;
      right: 16px;
      top: 140px;
      display:flex;
      flex-direction:column;
      gap:12px;
      padding:10px;
      border-radius: 999px;
      background: rgba(255,250,242,0.7);
      border: 1px solid rgba(231,207,173,0.9);
      backdrop-filter: blur(10px);
      z-index: 80;
    }
    .side button{
      width:42px; height:42px;
      border-radius: 14px;
      border: 1px solid rgba(231,207,173,0.7);
      background: rgba(255,255,255,0.8);
      cursor:pointer;
      font-size:18px;
    }

    /* Bot√≥n flotante + */
    .fab{
      position: fixed;
      right: 26px;
      bottom: 26px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      border:none;
      background: #1f8f7a;
      color:#fff;
      font-size: 34px;
      cursor:pointer;
      box-shadow: 0 16px 40px rgba(0,0,0,0.25);
      z-index: 90;
    }

    footer{
      margin-top: 28px;
      padding: 18px;
      text-align:center;
      background: rgba(242,213,168,0.70);
      border-top: 1px solid rgba(231,207,173,0.9);
      color: var(--muted);
      font-size: 13px;
    }

    /* ====== M√ìVIL ====== */
    @media (max-width: 520px){
      .brand h1{ font-size:16px; }
      .card{ width: 85vw; height: 280px; }

      .side{ display:none; }
      .tools-float{ display:block; }
    }
  </style>
</head>

<body>

  <!-- Panel lateral: solo desktop -->
  <aside class="side" aria-label="Herramientas r√°pidas (desktop)">
    <button title="Buscar">üîç</button>
    <button title="Compartir">‚Üó</button>
    <button title="Notificaciones">üîî</button>
    <button title="Ajustes">‚öô</button>
  </aside>

  <!-- Bot√≥n ‚ãØ fuera del header (solo m√≥vil) -->
  <button class="tools-float" id="toolsBtn" aria-label="Abrir herramientas" aria-controls="toolsMenu" aria-expanded="false">
    <span class="dots-icon" aria-hidden="true">‚ãØ</span>
  </button>

  <!-- Dropdown tools (solo m√≥vil) -->
  <div class="dropdown tools-dropdown" id="toolsMenu" role="menu" aria-label="Herramientas">
    <h4>Herramientas</h4>
    <button type="button" role="menuitem" onclick="alert('Buscar (demo)')">Buscar <span class="tag">üîç</span></button>
    <button type="button" role="menuitem" onclick="alert('Compartir (demo)')">Compartir <span class="tag">‚Üó</span></button>
    <button type="button" role="menuitem" onclick="alert('Notificaciones (demo)')">Notificaciones <span class="tag">üîî</span></button>
    <button type="button" role="menuitem" onclick="alert('Ajustes (demo)')">Ajustes <span class="tag">‚öô</span></button>
  </div>

  <button class="fab" title="Nuevo post">+</button>

  <header id="mainHeader">
    <div class="header-inner">
      <div class="brand">
        <h1>Bit√°cora Segundo Semestre</h1>
        <p>Laboratorio Interdisciplinar 
          ¬∑ Universidad de las Artes</p>
      </div>

      <div class="weeks-wrap">
        <button
          class="iconbtn"
          id="hamburger"
          aria-label="Abrir men√∫ de semanas"
          aria-controls="weeksMenu"
          aria-expanded="false"
          type="button"
        >
          <span class="burger-lines" aria-hidden="true">
            <span></span><span></span><span></span>
          </span>
        </button>

        <div class="dropdown weeks-dropdown" id="weeksMenu" role="menu" aria-label="Semanas">
          <h4>Semanas</h4>
          <a href="#s1" role="menuitem">Semana 1 <span class="tag">S1</span></a>
          <a href="#s2" role="menuitem">Semana 2 <span class="tag">S2</span></a>
          <a href="#s3" role="menuitem">Semana 3 <span class="tag">S3</span></a>
          <a href="#s4" role="menuitem">Semana 4 <span class="tag">S4</span></a>
          <a href="#s5" role="menuitem">Semana 5 <span class="tag">S5</span></a>
          <a href="#s6" role="menuitem">Semana 6 <span class="tag">S6</span></a>
          <a href="#s7" role="menuitem">Semana 7 <span class="tag">S7</span></a>
          <a href="#s8" role="menuitem">Semana 8 <span class="tag">S8</span></a>
        </div>
      </div>
    </div>
  </header>

  <div class="page">
    <section class="hero">
      <div class="left">
        <h2>Registro semanal del proceso</h2>
        <p>
          Este sitio recopila apuntes, reflexiones, avances y evidencias del segundo semestre.
          Puedes desplazarte horizontalmente para recorrer las semanas o usar el men√∫ para saltar a una.
        </p>
      </div>
      <div class="hint" title="Tip">
        <span class="dot"></span>
        <span>Tip: arrastra lateralmente para ver m√°s tarjetas</span>
      </div>
    </section>

    <section class="cards-wrap">
      <div class="container" id="cards">

        <!-- NOTA: para ahorrar espacio, dejo 2 semanas completas. Copia/pega el mismo patr√≥n para s3..s8 -->
        <article class="card" id="s1" data-week="1">
          <span class="badge">Semana 1</span>
          <h3>Semana 1</h3>

          <div class="post-head">
            <div class="who">
              <div class="avatar">H</div>
              <div>
                <div class="name">Henry Villavicencio</div>
                <div class="time">[hace 2 meses]</div>
              </div>
            </div>
            <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
          </div>

          <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
            <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
          </div>

          <div class="meta">Fecha: <strong>[25 de Noviembre 2025]</strong></div>
          <img data-src="" alt="Imagen Semana 1">
          <p>[Escribe aqu√≠ el texto descriptivo de la Semana 1]</p>

          <div class="actions">
            <a class="btn primary" href="#s1">Ver semana</a>
            <a class="btn" href="#" onclick="return false;">Adjuntar evidencia</a>
          </div>
        </article>

       <article class="card" id="s2" data-week="2">
  <span class="badge">Semana 2</span>
  <h3>Semana 2</h3>

  <div class="post-head">
    <div class="who">
      <div class="avatar">H</div>
      <div>
        <div class="name">Henry Villavicencio</div>
        <div class="time">[hace 2 meses]</div>
      </div>
    </div>
    <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
  </div>

  <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
    <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
  </div>

  <div class="meta">Fecha: <strong>[02 de Diciembre 2025]</strong></div>
  <img data-src="" alt="Imagen Semana 2">
  <p>[Escribe aqu√≠ el texto descriptivo de la Semana 2]</p>

  <div class="actions">
    <a class="btn primary" href="#s2">Ver semana</a>
    <a class="btn" href="#" onclick="return false;">Adjuntar evidencia</a>
  </div>
</article>

<article class="card" id="s3" data-week="3">
  <span class="badge">Semana 3</span>
  <h3>Semana 3</h3>

  <div class="post-head">
    <div class="who">
      <div class="avatar">H</div>
      <div>
        <div class="name">Henry Villavicencio</div>
        <div class="time">[hace 2 meses]</div>
      </div>
    </div>
    <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
  </div>

  <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
    <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
  </div>

  <div class="meta">Fecha: <strong>[09 de Diciembre 2025]</strong></div>
  <img data-src="" alt="Imagen Semana 3">
  <p>[Escribe aqu√≠ el texto descriptivo de la Semana 3]</p>

  <div class="actions">
    <a class="btn primary" href="#s3">Ver semana</a>
    <a class="btn" href="#" onclick="return false;">Adjuntar evidencia</a>
  </div>
</article>

<article class="card" id="s4" data-week="4">
  <span class="badge">Semana 4</span>
  <h3>Semana 4</h3>

  <div class="post-head">
    <div class="who">
      <div class="avatar">H</div>
      <div>
        <div class="name">Henry Villavicencio</div>
        <div class="time">[hace 2 meses]</div>
      </div>
    </div>
    <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
  </div>

  <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
    <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
  </div>

  <div class="meta">Fecha: <strong>[16 de Diciembre 2025]</strong></div>
  <img data-src="" alt="Imagen Semana 4">
  <p>[Escribe aqu√≠ el texto descriptivo de la Semana 4]</p>

  <div class="actions">
    <a class="btn primary" href="#s4">Ver semana</a>
    <a class="btn" href="#" onclick="return false;">Adjuntar evidencia</a>
  </div>
</article>

<article class="card" id="s5" data-week="5">
  <span class="badge">Semana 5</span>
  <h3>Semana 5</h3>

  <div class="post-head">
    <div class="who">
      <div class="avatar">H</div>
      <div>
        <div class="name">Henry Villavicencio</div>
        <div class="time">[hace 26 d√≠as]</div>
      </div>
    </div>
    <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
  </div>

  <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
    <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
  </div>

  <div class="meta">Fecha: <strong>[06 de Enero 2026]</strong></div>
  <img data-src="" alt="Imagen Semana 5">
  <p>[Escribe aqu√≠ el texto descriptivo de la Semana 5]</p>

  <div class="actions">
    <a class="btn primary" href="#s5">Ver semana</a>
    <a class="btn" href="#" onclick="return false;">Adjuntar evidencia</a>
  </div>
</article>

<article class="card" id="s6" data-week="6">
  <span class="badge">Semana 6</span>
  <h3>Semana 6</h3>

  <div class="post-head">
    <div class="who">
      <div class="avatar">H</div>
      <div>
        <div class="name">Henry Villavicencio</div>
        <div class="time">[hace 19 d√≠as]</div>
      </div>
    </div>
    <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
  </div>

  <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
    <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
  </div>

  <div class="meta">Fecha: <strong>[13 de Enero 2026]</strong></div>
  <img data-src="" alt="Imagen Semana 6">
  <p>[Escribe aqu√≠ el texto descriptivo de la Semana 6]</p>

  <div class="actions">
    <a class="btn primary" href="#s6">Ver semana</a>
    <a class="btn" href="#" onclick="return false;">Adjuntar evidencia</a>
  </div>
</article>

<article class="card" id="s7" data-week="7">
  <span class="badge">Semana 7</span>
  <h3>Semana 7</h3>

  <div class="post-head">
    <div class="who">
      <div class="avatar">H</div>
      <div>
        <div class="name">Henry Villavicencio</div>
        <div class="time">[hace 12 d√≠as]</div>
      </div>
    </div>
    <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
  </div>

  <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
    <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
  </div>

  <div class="meta">Fecha: <strong>[20 de Enero 2026]</strong></div>
  <img data-src="" alt="Imagen Semana 7">
  <p>[Escribe aqu√≠ el texto descriptivo de la Semana 7]</p>

  <div class="actions">
    <a class="btn primary" href="#s7">Ver semana</a>
    <a class="btn" href="#" onclick="return false;">Adjuntar evidencia</a>
  </div>
</article>

<article class="card" id="s8" data-week="8">
  <span class="badge">Semana 8</span>
  <h3>Semana 8</h3>

  <div class="post-head">
    <div class="who">
      <div class="avatar">H</div>
      <div>
        <div class="name">Henry Villavicencio</div>
        <div class="time">[hace 5 d√≠as]</div>
      </div>
    </div>
    <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
  </div>

  <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
    <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
    <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
  </div>

  <div class="meta">Fecha: <strong>[27 de enero 2026]</strong></div>
  <img data-src="" alt="Imagen Semana 8">
  <p>[Escribe aqu√≠ el texto descriptivo de la Semana 8]</p>

  <div class="actions">
    <a class="btn primary" href="#s8">Ver semana</a>
    <a class="btn" href="#" onclick="return false;">Adjuntar evidencia</a>
  </div>
</article>
        
        <!-- ya esta completo las tarjetas de semanas (igual que s1 cambiando ids y textos) -->

      </div>
    </section>
  </div>

  <footer>
    Proyecto acad√©mico del segundo semestre ¬∑ Universidad de las Artes ¬∑ Laboratorio Interdisciplinar
  </footer>

  <script>
    // ========= IM√ÅGENES =========
    document.querySelectorAll("img[data-src]").forEach(img => {
      const src = (img.getAttribute("data-src") || "").trim();
      if (src && !src.includes("[") && !src.includes("ruta-de-la-imagen")) {
        img.src = src;
        img.style.display = "block";
      }
    });

    // ========= SCROLL HORIZONTAL A TARJETA =========
    const container = document.getElementById("cards");
    function scrollToCard(id){
      const el = document.querySelector(id);
      if (!el || !container) return;
      const left = el.offsetLeft - 12;
      container.scrollTo({ left, behavior: "smooth" });
      // NO guardamos hash para evitar que recargue en semana 4+
    }

    // ========= SIEMPRE EMPEZAR EN SEMANA 1 =========
    function forceStartAtWeek1(){
      if (!container) return;
      // Limpia hash sin recargar
      if (location.hash) history.replaceState(null, "", location.pathname + location.search);
      // Fuerza scroll al inicio
      container.scrollTo({ left: 0, behavior: "auto" });
    }
    window.addEventListener("load", forceStartAtWeek1);
    window.addEventListener("pageshow", forceStartAtWeek1);

    // ========= DROPDOWNS (SEMANAS + TOOLS) =========
    const hamburgerBtn = document.getElementById("hamburger");
    const weeksMenu = document.getElementById("weeksMenu");
    const toolsBtn = document.getElementById("toolsBtn");
    const toolsMenu = document.getElementById("toolsMenu");
    const header = document.getElementById("mainHeader");

    function closeDropdown(btn, menu){
      if (!btn || !menu) return;
      menu.classList.remove("open");
      btn.setAttribute("aria-expanded", "false");
    }
    function closeAllMain(){
      closeDropdown(hamburgerBtn, weeksMenu);
      closeDropdown(toolsBtn, toolsMenu);
    }
    function toggle(btn, menu){
      const open = !menu.classList.contains("open");
      closeAllMain();
      menu.classList.toggle("open", open);
      btn.setAttribute("aria-expanded", String(open));
    }

    // ========= POSICI√ìN DE ‚ãØ (BAJAR M√ÅS) =========
    // Antes estaba pegado a la hamburguesa: ahora lo bajamos m√°s.
    function positionTools(){
      if (!header || !toolsBtn || !toolsMenu) return;

      const rect = header.getBoundingClientRect();
      const topForDots = rect.bottom + 1; // <-- M√ÅS ABAJO (sube/baja este n√∫mero)
      toolsBtn.style.top = topForDots + "px";

      const btnRect = toolsBtn.getBoundingClientRect();
      toolsMenu.style.top = (btnRect.bottom + 10) + "px";
    }
    window.addEventListener("load", positionTools);
    window.addEventListener("resize", positionTools);
    window.addEventListener("scroll", positionTools, { passive: true });
    window.addEventListener("pageshow", positionTools);

    // Hamburgesa: abre semanas (ARREGLADO)
    hamburgerBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      toggle(hamburgerBtn, weeksMenu);
    });

    // Click en semanas (ARREGLADO)
    weeksMenu.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        const id = a.getAttribute("href");
        if (!id) return;
        scrollToCard(id);
        closeAllMain();
      });
    });

    // Tools: abre tools (ARREGLADO)
    toolsBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      positionTools();
      toggle(toolsBtn, toolsMenu);
    });

    // No cerrar si haces click dentro
    weeksMenu.addEventListener("click", (e) => e.stopPropagation());
    toolsMenu.addEventListener("click", (e) => e.stopPropagation());

    // ========= MEN√ö CONTEXTUAL EN TARJETAS (‚ãÆ) =========
    function closeAllContextMenus(){
      document.querySelectorAll(".ctx-menu.open").forEach(menu => menu.classList.remove("open"));
      document.querySelectorAll(".dots[aria-expanded='true']").forEach(btn => btn.setAttribute("aria-expanded", "false"));
    }

    // Delegaci√≥n: funciona aunque dupliques tarjetas
    document.addEventListener("click", (e) => {
      const dotsBtn = e.target.closest(".dots");
      const ctxItem = e.target.closest(".ctx-item");

      // Si tocaste un item del men√∫ contextual
      if (ctxItem) {
        e.preventDefault();
        e.stopPropagation();

        const menu = ctxItem.closest(".ctx-menu");
        const card = ctxItem.closest(".card");
        const action = ctxItem.getAttribute("data-action");
        const week = card?.getAttribute("data-week") || card?.id || "?";

        if (action === "edit") alert("Editar tarjeta: " + week);
        if (action === "delete") alert("Eliminar tarjeta: " + week);
        if (action === "share") alert("Compartir tarjeta: " + week);

        closeAllContextMenus();
        return;
      }

      // Si tocaste los ‚ãÆ de una tarjeta
      if (dotsBtn) {
        e.preventDefault();
        e.stopPropagation();

        // Cierra men√∫s principales para evitar conflictos
        closeAllMain();

        const card = dotsBtn.closest(".card");
        const menu = card?.querySelector(".ctx-menu");
        if (!menu) return;

        const open = !menu.classList.contains("open");
        closeAllContextMenus();
        menu.classList.toggle("open", open);
        dotsBtn.setAttribute("aria-expanded", String(open));
        return;
      }

      // Si tocaste fuera: cerrar todo
      closeAllMain();
      closeAllContextMenus();
    }, true);

    // ESC cierra todo
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        closeAllMain();
        closeAllContextMenus();
      }
    });
  </script>

</body>
</html>
