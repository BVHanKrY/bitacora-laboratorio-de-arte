<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bit√°cora Laboratorio de Arte | UArtes</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --paper:#fffaf2;
      --stroke:#e7cfad;
      --text:#2f2f2f;
      --muted:#6b6b6b;
      --accent:#b76a2b;
      --shadow2: 0 6px 14px rgba(0,0,0,0.08);
      --radius: 16px;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }

    body{
      margin:0;
      font-family:'Roboto', sans-serif;
      color:var(--text);
      overflow-x:hidden;

      background:
        linear-gradient(rgba(255,250,242,0.55), rgba(255,250,242,0.55)),
        url("https://raw.githubusercontent.com/BVHanKrY/bitacora-laboratorio-de-arte/refs/heads/main/Captura%20de%20pantalla%202026-01-30%20223710.png")
        center/cover fixed no-repeat;
    }

    .page{
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px 16px 40px;
    }

    /* Header */
    header{
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: rgba(242,213,168,0.75);
      border-bottom: 1px solid rgba(231,207,173,0.8);
    }

    .header-inner{
      max-width:1200px;
      margin:0 auto;
      padding: 14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:4px;
      line-height:1.1;
      min-width: 220px;
    }
    .brand h1{
      font-size: 18px;
      margin:0;
      font-weight:700;
      letter-spacing:0.2px;
    }
    .brand p{
      margin:0;
      font-size:13px;
      color:var(--muted);
    }

    /* ====== Bot√≥n hamburguesa (semanas) SOLO en header ====== */
    .iconbtn{
      width: 44px;
      height: 44px;
      border-radius: 14px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.65);
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      transition: transform .12s ease, background .12s ease;
    }
    .iconbtn:hover{
      transform: translateY(-1px);
      background: rgba(255,250,242,0.90);
    }
    .iconbtn:focus{
      outline: 2px solid rgba(183,106,43,0.35);
      outline-offset: 2px;
    }

    .burger-lines{
      width: 18px;
      height: 12px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .burger-lines span{
      display:block;
      height: 2px;
      border-radius: 999px;
      background: rgba(47,47,47,0.80);
    }

    /* ====== Dropdown general ====== */
    .dropdown{
      width: min(260px, 88vw);
      padding: 10px;
      border-radius: 16px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.92);
      box-shadow: 0 18px 40px rgba(0,0,0,0.18);
      backdrop-filter: blur(10px);
      display:none;
      z-index: 999;
    }
    .dropdown.open{ display:block; }

    .dropdown h4{
      margin: 6px 8px 8px;
      font-size: 12px;
      color: var(--muted);
      font-weight:700;
      letter-spacing: 0.6px;
      text-transform: uppercase;
    }

    .dropdown a, .dropdown button{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      text-decoration:none;
      font-size: 13px;
      color: var(--text);
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid rgba(231,207,173,0.75);
      background: rgba(255,255,255,0.70);
      transition: transform .12s ease, background .12s ease;
      margin: 6px 0;
      cursor:pointer;
    }
    .dropdown a:hover, .dropdown button:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.95);
    }
    .dropdown .tag{
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      color: var(--muted);
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.85);
    }

    /* Men√∫ semanas: anclado al header */
    .weeks-wrap{ position: relative; }
    .weeks-dropdown{
      position: absolute;
      right: 0;
      top: calc(100% + 10px);
    }

    /* ====== Bot√≥n ‚ãØ FUERA del header (m√≥vil) ====== */
    .tools-float{
      display:none;
      position: fixed;
      right: 16px;
      z-index: 70;

      border: none;
      background: transparent;
      padding: 10px;
      border-radius: 999px;
      -webkit-tap-highlight-color: transparent;
      cursor: pointer;
    }
    .tools-float:focus{ outline: none; }
    .tools-float .dots-icon{
      font-size: 26px;
      line-height: 1;
      color: rgba(47,47,47,0.75);
      user-select:none;
      display:block;
    }

    .tools-dropdown{
      position: fixed;
      right: 16px;
      z-index: 999;
    }

    /* ====== Intro ====== */
    .hero{
      margin-top: 18px;
      padding: 18px;
      background: rgba(255,250,242,0.75);
      border: 1px solid rgba(231,207,173,0.9);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }
    .hero .left{
      flex: 1 1 520px;
      min-width: 260px;
    }
    .hero h2{ margin:0 0 8px; font-size: 20px; }
    .hero p{
      margin:0;
      color:var(--muted);
      line-height:1.5;
      font-size: 14px;
    }
    .hint{
      flex: 0 0 auto;
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius: 12px;
      background: rgba(255,247,237,0.9);
      border: 1px dashed rgba(183,106,43,0.35);
      color: var(--muted);
      font-size: 13px;
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(183,106,43,0.15);
    }

    /* Cards horizontal */
    .cards-wrap{ margin-top: 18px; padding: 10px 0 6px; }

    .container{
      display:flex;
      gap: 18px;
      overflow-x: auto;
      padding: 18px 6px 18px;

      /* ‚úÖ CAMBIO CLAVE: evita que el flex estire todas las tarjetas a la misma altura */
      align-items: flex-start;

      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
    }

    .container::-webkit-scrollbar{ height: 10px; }
    .container::-webkit-scrollbar-thumb{
      background: rgba(183,106,43,0.35);
      border-radius: 999px;
    }
    .container::-webkit-scrollbar-track{
      background: rgba(0,0,0,0.06);
      border-radius: 999px;
    }

    .card{
      width: 360px;

      /* ‚úÖ CAMBIO CLAVE: quitar altura m√≠nima forzada para evitar "espacios feos" */
      /* min-height: 330px; */

      height: auto;
      flex: 0 0 auto;
      scroll-snap-align: start;

      background: rgba(255, 255, 255, 0.92);
      border: 1px solid rgba(231,207,173,0.8);
      border-radius: 18px;
      padding: 14px;
      box-shadow: 0 14px 30px rgba(0,0,0,0.12);
      position:relative;
      overflow:hidden;

      display:flex;
      flex-direction:column;
    }

    .badge{
      position:absolute;
      top:12px; right:12px;
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255,250,242,0.75);
      border: 1px solid rgba(231,207,173,0.9);
      color: var(--muted);
    }

    .post-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:10px;
    }
    .who{ display:flex; gap:10px; align-items:center; }
    .avatar{
      width:36px; height:36px;
      border-radius:50%;
      background: #2a2a2a;
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:13px;
    }
    .name{ font-weight:700; font-size:13px; }
    .time{ font-size:12px; color:var(--muted); margin-top:2px; }

    /* ====== BOT√ìN ‚ãÆ EN TARJETA (SIN CUADRO) ====== */
    .dots{
      border: none !important;
      background: transparent !important;
      padding: 6px !important;
      border-radius: 999px !important;
      line-height: 1 !important;
      box-shadow: none !important;
      outline: none !important;
      -webkit-tap-highlight-color: transparent;
      cursor:pointer;
      font-size: 22px;
      color: var(--muted);
    }
    .dots:focus,
    .dots:focus-visible,
    .dots:active{
      outline: none !important;
      box-shadow: none !important;
      background: transparent !important;
    }

    /* ====== Men√∫ contextual tipo material (tarjeta) ====== */
    .ctx-menu{
      position:absolute;
      top: 52px;
      right: 12px;
      min-width: 190px;
      padding: 8px;
      border-radius: 14px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.96);
      box-shadow: 0 16px 40px rgba(0,0,0,0.18);
      backdrop-filter: blur(10px);
      display:none;
      z-index: 40;
    }
    .ctx-menu.open{ display:block; }

    .ctx-item{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid rgba(231,207,173,0.65);
      background: rgba(255,255,255,0.75);
      cursor:pointer;
      font-size: 13px;
      color: var(--text);
      margin: 6px 0;
    }
    .ctx-item:hover{
      background: rgba(255,255,255,0.98);
      transform: translateY(-1px);
    }

    .meta{ font-size: 12px; color: var(--muted); margin-bottom: 8px; }

    .card img{
      width:100%;
      height: 140px;
      object-fit: cover;
      border-radius: 12px;
      margin: 6px 0 10px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.5);
      display:none;
    }

    /* ‚úÖ Texto con resumen (4 l√≠neas) + expandible */
    .card p{
      font-size: 14px;
      line-height: 1.5;
      margin:0 0 12px;
      color: #3a3a3a;

      overflow:hidden;
      display:-webkit-box;
      -webkit-line-clamp: 4;
      -webkit-box-orient: vertical;
    }
    .card p.expanded{
      overflow: visible;
      display: block;
      -webkit-line-clamp: unset;
      -webkit-box-orient: unset;
    }

    .actions{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;

      /* esto solo empuja los botones al fondo si hay espacio extra */
      margin-top:auto;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      text-decoration:none;
      font-size: 13px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.85);
      color: var(--text);
    }
    .btn.primary{
      background: rgba(183,106,43,0.14);
      border-color: rgba(183,106,43,0.30);
      color: #4a2a14;
    }

    /* Panel lateral (desktop) */
    .side{
      position: fixed;
      right: 16px;
      top: 140px;
      display:flex;
      flex-direction:column;
      gap:12px;
      padding:10px;
      border-radius: 999px;
      background: rgba(255,250,242,0.7);
      border: 1px solid rgba(231,207,173,0.9);
      backdrop-filter: blur(10px);
      z-index: 80;
    }
    .side button{
      width:42px; height:42px;
      border-radius: 14px;
      border: 1px solid rgba(231,207,173,0.7);
      background: rgba(255,255,255,0.8);
      cursor:pointer;
      font-size:18px;
    }

    /* Bot√≥n flotante + */
    .fab{
      position: fixed;
      right: 26px;
      bottom: 26px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      border:none;
      background: #1f8f7a;
      color:#fff;
      font-size: 34px;
      cursor:pointer;
      box-shadow: 0 16px 40px rgba(0,0,0,0.25);
      z-index: 90;
    }

    footer{
      margin-top: 28px;
      padding: 18px;
      text-align:center;
      background: rgba(242,213,168,0.70);
      border-top: 1px solid rgba(231,207,173,0.9);
      color: var(--muted);
      font-size: 13px;
    }

    /* ====== Detalle: panel desplegable (Audio / Video) ====== */
    .details-panel{
      margin-top: 10px;
      padding: 10px;
      border-radius: 14px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.85);
    }

    .details-row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .media-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      font-size: 13px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,255,255,0.75);
      cursor:pointer;
      color: var(--text);
      transition: transform .12s ease, background .12s ease;
    }
    .media-btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.98);
    }

    .details-note{
      margin: 10px 0 0;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.4;
    }

    /* ====== Lista de medios (Audio/Video) ====== */
    .media-title{
      margin: 10px 0 6px;
      font-size: 12px;
      color: var(--muted);
      font-weight: 700;
      letter-spacing: .4px;
      text-transform: uppercase;
    }
    .media-list{
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .media-list a{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid rgba(231,207,173,0.75);
      background: rgba(255,255,255,0.70);
      color: var(--text);
      text-decoration: none;
      transition: transform .12s ease, background .12s ease;
      font-size: 13px;
    }
    .media-list a:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.95);
    }
    .pill{
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      color: var(--muted);
      border: 1px solid rgba(231,207,173,0.9);
      background: rgba(255,250,242,0.85);
      flex: 0 0 auto;
    }

    /* ====== M√ìVIL ====== */
    @media (max-width: 520px){
      .brand h1{ font-size:16px; }

      /* ‚úÖ CAMBIO: sin min-height forzado en m√≥vil */
      .card{ width: 85vw; /* min-height: 340px; */ height: auto; }

      .side{ display:none; }
      .tools-float{ display:block; }
    }
  </style>
</head>

<body>

  <!-- Panel lateral: solo desktop -->
  <aside class="side" aria-label="Herramientas r√°pidas (desktop)">
    <button title="Buscar">üîç</button>
    <button title="Compartir">‚Üó</button>
    <button title="Notificaciones">üîî</button>
    <button title="Ajustes">‚öô</button>
  </aside>

  <!-- Bot√≥n ‚ãØ fuera del header (solo m√≥vil) -->
  <button class="tools-float" id="toolsBtn" aria-label="Abrir herramientas" aria-controls="toolsMenu" aria-expanded="false">
    <span class="dots-icon" aria-hidden="true">‚ãØ</span>
  </button>

  <!-- Dropdown tools (solo m√≥vil) -->
  <div class="dropdown tools-dropdown" id="toolsMenu" role="menu" aria-label="Herramientas">
    <h4>Herramientas</h4>
    <button type="button" role="menuitem" onclick="alert('Buscar (demo)')">Buscar <span class="tag">üîç</span></button>
    <button type="button" role="menuitem" onclick="alert('Compartir (demo)')">Compartir <span class="tag">‚Üó</span></button>
    <button type="button" role="menuitem" onclick="alert('Notificaciones (demo)')">Notificaciones <span class="tag">üîî</span></button>
    <button type="button" role="menuitem" onclick="alert('Ajustes (demo)')">Ajustes <span class="tag">‚öô</span></button>
  </div>

  <button class="fab" title="Nuevo post">+</button>

  <header id="mainHeader">
    <div class="header-inner">
      <div class="brand">
        <h1>Bit√°cora Septimo Semestre</h1>
        <p>Laboratorio Interdisciplinario</p>
        <p>¬∑ Universidad de las Artes ¬∑</p>
      </div>

      <div class="weeks-wrap">
        <button
          class="iconbtn"
          id="hamburger"
          aria-label="Abrir men√∫ de semanas"
          aria-controls="weeksMenu"
          aria-expanded="false"
          type="button"
        >
          <span class="burger-lines" aria-hidden="true">
            <span></span><span></span><span></span>
          </span>
        </button>

        <div class="dropdown weeks-dropdown" id="weeksMenu" role="menu" aria-label="Semanas">
          <h4>Semanas</h4>
          <a href="#s9" role="menuitem">Semana 9 <span class="tag">S9</span></a>
          <a href="#s10" role="menuitem">Semana 10 <span class="tag">S10</span></a>
          <a href="#s11" role="menuitem">Semana 11 <span class="tag">S11</span></a>
          <a href="#s12" role="menuitem">Semana 12 <span class="tag">S12</span></a>
          <a href="#s13" role="menuitem">Semana 13 <span class="tag">S13</span></a>
          <a href="#s14" role="menuitem">Semana 14 <span class="tag">S14</span></a>
          <a href="#s15" role="menuitem">Semana 15 <span class="tag">S15</span></a>
          <a href="#s16" role="menuitem">Semana 16 <span class="tag">S16</span></a>
        </div>
      </div>
    </div>
  </header>

  <div class="page">
    <section class="hero">
      <div class="left">
        <h2>Registro semanal del proceso</h2>
        <p>
          Este sitio recopila apuntes, reflexiones, avances y evidencias del segundo semestre.
          Puedes desplazarte horizontalmente para recorrer las semanas o usar el men√∫ para saltar a una.
        </p>
      </div>
      <div class="hint" title="Tip">
        <span class="dot"></span>
        <span>Tip: arrastra lateralmente para ver m√°s tarjetas</span>
      </div>
    </section>

    <section class="cards-wrap">
      <div class="container" id="cards">

        <!-- SEMANA 9-->
        <article class="card" id="s9" data-week="9">
          <span class="badge">Semana 9</span>
          <h3>Semana 9</h3>

          <div class="post-head">
            <div class="who">
              <div class="avatar">H</div>
              <div>
                <div class="name">Henry Villavicencio</div>
                <div class="time">hace 2 meses</div>
              </div>
            </div>
            <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
          </div>

          <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
            <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
          </div>

          <div class="meta">Fecha: <strong>25 de Noviembre 2025</strong></div>
          <img data-src="https://raw.githubusercontent.com/BVHanKrY/bitacora-laboratorio-de-arte/refs/heads/main/Imagenes/25%20de%20nov.jpg" alt="Imagen Semana 9">
          <img data-src="https://raw.githubusercontent.com/BVHanKrY/bitacora-laboratorio-de-arte/refs/heads/main/Imagenes/25%20nov.1.jpg" alt="Imagen Semana 9">
          <p>La semana 9 estuvo llena de momentos trascendentales, ya que ese d√≠a iniciamos la creaci√≥n de nuestra instalaci√≥n, as√≠ como la de varios compa√±eros. Para ello, tuvimos que transformar el espacio del aula en una instalaci√≥n perform√°tica.
             En mi caso, fue un poco dif√≠cil al principio, porque no lograba encontrar un objeto (o una combinaci√≥n de objetos) que pudiera sostener un significado claro a partir de los implementos de la clase. Aun as√≠, el proceso me ayud√≥ a observar el espacio desde otra perspectiva y a comprender mejor c√≥mo se construye sentido desde lo cotidiano.
             Finalmente, algunos compa√±eros lograron concretar su primera instalaci√≥n, y en las fotograf√≠as se puede ver c√≥mo la desarrollaron. Adem√°s, durante la jornada hubo participaci√≥n activa de varios estudiantes que ya estaban construyendo y afinando sus propias instalaciones.
             Como parte de mi respaldo tengo algunos audios los cuales puedes desplegar en detalle. Estos audios son la representacion audible del proposito en esta ciudad (hacer musica). </p>

          <div class="actions">
            <button class="btn primary details-btn" type="button" aria-expanded="false">Detalle</button>
            <button class="btn more-btn" type="button" aria-expanded="false">Ver m√°s</button>
            <a class="btn" href="#" onclick="alert('Abrir comentarios (demo)'); return false;">Comentarios</a>
          </div>

          <div class="details-panel" hidden>
            <div class="details-row">
              <button class="media-btn" type="button" data-media="audio">üéß Audio</button>
              <button class="media-btn" type="button" data-media="video">üé¨ Video</button>
            </div>

            <div class="media-title" data-media-title>Selecciona Audio o Video</div>
            <ul class="media-list" data-media-list></ul>
          </div>
        </article>

        <!-- SEMANA 10-->
        <article class="card" id="s10" data-week="10">
          <span class="badge">Semana 10</span>
          <h3>Semana 10</h3>

          <div class="post-head">
            <div class="who">
              <div class="avatar">H</div>
              <div>
                <div class="name">Henry Villavicencio</div>
                <div class="time">hace 2 meses</div>
              </div>
            </div>
            <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
          </div>

          <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
            <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
          </div>

          <div class="meta">Fecha: <strong>02 de Diciembre 2025</strong></div>
          <img data-src="semana 10,1.jpg" alt="Imagen Semana 10">
          <img data-src="semana 10,2.jpg" alt="Imagen Semana 10">
          <p>Escribe aqu√≠ el texto descriptivo de la Semana 10</p>

          <div class="actions">
            <button class="btn primary details-btn" type="button" aria-expanded="false">Detalle</button>
            <button class="btn more-btn" type="button" aria-expanded="false">Ver m√°s</button>
            <a class="btn" href="#" onclick="alert('Abrir comentarios (demo)'); return false;">Comentarios</a>
          </div>

          <div class="details-panel" hidden>
            <div class="details-row">
              <button class="media-btn" type="button" data-media="audio">üéß Audio</button>
              <button class="media-btn" type="button" data-media="video">üé¨ Video</button>
            </div>

            <div class="media-title" data-media-title>Selecciona Audio o Video</div>
            <ul class="media-list" data-media-list></ul>
          </div>
        </article>

        <!-- SEMANA 11-->
        <article class="card" id="s11" data-week="11">
          <span class="badge">Semana 11</span>
          <h3>Semana 11</h3>

          <div class="post-head">
            <div class="who">
              <div class="avatar">H</div>
              <div>
                <div class="name">Henry Villavicencio</div>
                <div class="time">hace 2 meses</div>
              </div>
            </div>
            <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
          </div>

          <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
            <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
          </div>

          <div class="meta">Fecha: <strong>09 de Diciembre 2025</strong></div>
          <img data-src="Imagenes/6 ene.5.jpg" alt="Imagen Semana 11">
          <img data-src="Imagenes/6 ene.6.jpg" alt="Imagen Semana 11">
          <img data-src="Imagenes/6 ene.7.jpg" alt="Imagen Semana 11">
          <p>La clase empez√≥ con una introducci√≥n a distintas formas de entender el movimiento, enfoc√°ndonos en el peso, la direcci√≥n y la velocidad como elementos que permiten una apreciaci√≥n m√°s profunda de los gestos.
             Luego, el profesor nos dio la consigna para la clase que consist√≠a en usar el cuerpo: elegir im√°genes con tensi√≥n, construir una 
             instalaci√≥n con objetos cotidianos anulando su funci√≥n, y finalmente realizar una acci√≥n perform√°tica breve que siguiera la energ√≠a y el ‚Äúverbo‚Äù. Como entrega, se present√≥ la instalacion como parte de la segunda parte de la clase.
             La experiencia fue abrumadora, pero liberadora, consegui perder la rigidez y soltarme mas mental y fisicamente.
             Lo fundamental era un performance en loop de 1 a 2 minutos.</p>

          <div class="actions">
            <button class="btn primary details-btn" type="button" aria-expanded="false">Detalle</button>
            <button class="btn more-btn" type="button" aria-expanded="false">Ver m√°s</button>
            <a class="btn" href="#" onclick="alert('Abrir comentarios (demo)'); return false;">Comentarios</a>
          </div>

          <div class="details-panel" hidden>
            <div class="details-row">
              <button class="media-btn" type="button" data-media="audio">üéß Audio</button>
              <button class="media-btn" type="button" data-media="video">üé¨ Video</button>
            </div>

            <div class="media-title" data-media-title>Selecciona Audio o Video</div>
            <ul class="media-list" data-media-list></ul>
          </div>
        </article>

        <!-- SEMANA 12-->
        <article class="card" id="s12" data-week="12">
          <span class="badge">Semana 12</span>
          <h3>Semana 12</h3>

          <div class="post-head">
            <div class="who">
              <div class="avatar">H</div>
              <div>
                <div class="name">Henry Villavicencio</div>
                <div class="time">hace 2 meses</div>
              </div>
            </div>
            <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
          </div>

          <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
            <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
          </div>

          <div class="meta">Fecha: <strong>16 de Diciembre 2025</strong></div>
          <img data-src="Imagenes/9 dic..1.jpg" alt="Imagen Semana 12">
          <img data-src="Imagenes/9 dic.2.jpg" alt="Imagen Semana 12">
          <img data-src="Imagenes/9 dic.3.jpg" alt="Imagen Semana 12">
          <img data-src="Imagenes/9 dic.4.jpg" alt="Imagen Semana 12">
          <img data-src="Imagenes/9 dic.5.jpg" alt="Imagen Semana 12">
          <img data-src="Imagenes/9 dic.jpg" alt="Imagen Semana 11">
          <p>En la semana 12 llegamos a clase con los materiales que el profesor nos hab√≠a indicado previamente. A partir de ah√≠, comenzamos el montaje de una instalaci√≥n perform√°tica: movimos mesas y sillas, apilamos algunas mesas una sobre otra y reorganizamos el aula hasta convertirla en un espacio de acci√≥n. Varios compa√±eros trabajaron con lo que ten√≠an en sus maletas, y otros ‚Äîcon una energ√≠a casi de improvisadores de teatro‚Äî ya ten√≠an su propuesta muy avanzada, casi como una peque√±a obra esc√©nica.
             En mi caso, me sent√≠a un poco falto de ideas, porque para m√≠ es dif√≠cil usar el cuerpo y el movimiento de este modo. Por eso empec√© a probar desde otro lugar: el sonido y las sensaciones que se asocian con la m√∫sica. Me interes√≥ explorar c√≥mo el sonido puede contener dolor, pero tambi√©n c√≥mo las molestias y frustraciones aparecen cuando el sonido se vuelve un tormento, especialmente al escuchar cosas desagradables. Mi camino perform√°tico comenz√≥ a tomar rumbo por ah√≠, conectado adem√°s con un sentimiento futurista que llevo: el futuro me impresiona porque ser√° el lugar donde jam√°s estar√©, y por eso lo valoro m√°s. En cambio, el pasado ya lo viv√≠ y no me gusta recordarlo; aunque s√© que es una l√≠nea muy delgada quedarse atrapado solo en esa idea.
             Aun as√≠, esa reflexi√≥n fue la raz√≥n por la que tom√© las fotograf√≠as, y con ellas logr√© construir una instalaci√≥n casi basada en lo que realmente quiero.
             Posdata: si te fijas, el rebotador de internet en la pared se parece a un robot.</p>

          <div class="actions">
            <button class="btn primary details-btn" type="button" aria-expanded="false">Detalle</button>
            <button class="btn more-btn" type="button" aria-expanded="false">Ver m√°s</button>
            <a class="btn" href="#" onclick="alert('Abrir comentarios (demo)'); return false;">Comentarios</a>
          </div>

          <div class="details-panel" hidden>
            <div class="details-row">
              <button class="media-btn" type="button" data-media="audio">üéß Audio</button>
              <button class="media-btn" type="button" data-media="video">üé¨ Video</button>
            </div>

            <div class="media-title" data-media-title>Selecciona Audio o Video</div>
            <ul class="media-list" data-media-list></ul>
          </div>
        </article>

        <!-- SEMANA 13-->
        <article class="card" id="s13" data-week="13">
          <span class="badge">Semana 13</span>
          <h3>Semana 13</h3>

          <div class="post-head">
            <div class="who">
              <div class="avatar">H</div>
              <div>
                <div class="name">Henry Villavicencio</div>
                <div class="time">hace 26 d√≠as</div>
              </div>
            </div>
            <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
          </div>

          <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
            <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
          </div>

          <div class="meta">Fecha: <strong>06 de Enero 2026</strong></div>
          <img data-src="Imagenes/6 ene.4.jpg" alt="Imagen Semana 13">
          <img data-src="Imagenes/6 ene-3.jpg" alt="Imagen Semana 13">
          <img data-src="Imagenes/6 ene.2.jpg" alt="Imagen Semana 13">
          <img data-src="Imagenes/6 ene.1.jpg" alt="Imagen Semana 13">
          <p>Escribe aqu√≠ el texto descriptivo de la Semana 13</p>

          <div class="actions">
            <button class="btn primary details-btn" type="button" aria-expanded="false">Detalle</button>
            <button class="btn more-btn" type="button" aria-expanded="false">Ver m√°s</button>
            <a class="btn" href="#" onclick="alert('Abrir comentarios (demo)'); return false;">Comentarios</a>
          </div>

          <div class="details-panel" hidden>
            <div class="details-row">
              <button class="media-btn" type="button" data-media="audio">üéß Audio</button>
              <button class="media-btn" type="button" data-media="video">üé¨ Video</button>
            </div>

            <div class="media-title" data-media-title>Selecciona Audio o Video</div>
            <ul class="media-list" data-media-list></ul>
          </div>
        </article>

        <!-- SEMANA 14-->
        <article class="card" id="s14" data-week="14">
          <span class="badge">Semana 14</span>
          <h3>Semana 14</h3>

          <div class="post-head">
            <div class="who">
              <div class="avatar">H</div>
              <div>
                <div class="name">Henry Villavicencio</div>
                <div class="time">hace 19 d√≠as</div>
              </div>
            </div>
            <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
          </div>

          <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
            <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
          </div>

          <div class="meta">Fecha: <strong>13 de Enero 2026</strong></div>
          <img data-src="semana 14.jpg" alt="Imagen Semana 14">
          <img data-src="semana 14,0.jpg" alt="Imagen Semana 14">
          <img data-src="semana 14,2.jpg" alt="Imagen Semana 14">
          <img data-src="semana 14,3.jpg" alt="Imagen Semana 14">
          <p>Escribe aqu√≠ el texto descriptivo de la Semana 14</p>

          <div class="actions">
            <button class="btn primary details-btn" type="button" aria-expanded="false">Detalle</button>
            <button class="btn more-btn" type="button" aria-expanded="false">Ver m√°s</button>
            <a class="btn" href="#" onclick="alert('Abrir comentarios (demo)'); return false;">Comentarios</a>
          </div>

          <div class="details-panel" hidden>
            <div class="details-row">
              <button class="media-btn" type="button" data-media="audio">üéß Audio</button>
              <button class="media-btn" type="button" data-media="video">üé¨ Video</button>
            </div>

            <div class="media-title" data-media-title>Selecciona Audio o Video</div>
            <ul class="media-list" data-media-list></ul>
          </div>
        </article>

        <!-- SEMANA 15-->
        <article class="card" id="s15" data-week="15">
          <span class="badge">Semana 15</span>
          <h3>Semana 15</h3>

          <div class="post-head">
            <div class="who">
              <div class="avatar">H</div>
              <div>
                <div class="name">Henry Villavicencio</div>
                <div class="time">hace 12 d√≠as</div>
              </div>
            </div>
            <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
          </div>

          <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
            <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
          </div>

          <div class="meta">Fecha: <strong>20 de Enero 2026</strong></div>
           <img data-src="Imagenes/20 ene.1.jpg" alt="Imagen Semana 15">
           <img data-src="Imagenes/20 ene.2.jpg" alt="Imagen Semana 15">
           <img data-src="Imagenes/20 ene.7.jpg" alt="Imagen Semana 15">
           <img data-src="Imagenes/20 ene.8.jpg" alt="Imagen Semana 15">
           <img data-src="Imagenes/20 ene.9.jpg" alt="Imagen Semana 15">
           <p>Escribe aqu√≠ el texto descriptivo de la Semana 15</p>

          <div class="actions">
            <button class="btn primary details-btn" type="button" aria-expanded="false">Detalle</button>
            <button class="btn more-btn" type="button" aria-expanded="false">Ver m√°s</button>
            <a class="btn" href="#" onclick="alert('Abrir comentarios (demo)'); return false;">Comentarios</a>
          </div>

          <div class="details-panel" hidden>
            <div class="details-row">
              <button class="media-btn" type="button" data-media="audio">üéß Audio</button>
              <button class="media-btn" type="button" data-media="video">üé¨ Video</button>
            </div>

            <div class="media-title" data-media-title>Selecciona Audio o Video</div>
            <ul class="media-list" data-media-list></ul>
          </div>
        </article>

        <!-- SEMANA 16-->
        <article class="card" id="s16" data-week="16">
          <span class="badge">Semana 16</span>
          <h3>Semana 16</h3>

          <div class="post-head">
            <div class="who">
              <div class="avatar">H</div>
              <div>
                <div class="name">Henry Villavicencio</div>
                <div class="time">hace 5 d√≠as</div>
              </div>
            </div>
            <button class="dots" type="button" aria-label="Opciones de la tarjeta" aria-haspopup="menu" aria-expanded="false">‚ãÆ</button>
          </div>

          <div class="ctx-menu" role="menu" aria-label="Men√∫ de opciones">
            <button class="ctx-item" type="button" role="menuitem" data-action="edit">Editar <span class="tag">‚úèÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="delete">Eliminar <span class="tag">üóëÔ∏è</span></button>
            <button class="ctx-item" type="button" role="menuitem" data-action="share">Compartir <span class="tag">‚Üó</span></button>
          </div>

          <div class="meta">Fecha: <strong>27 de enero 2026</strong></div>
           <img data-src="Imagenes/27 ene.1.jpg" alt="Imagen Semana 16">
           <img data-src="Imagenes/27 ene3.jpg" alt="Imagen Semana 16">
           <img data-src="Imagenes/27 ene7.jpg" alt="Imagen Semana 16">
           <img data-src="Imagenes/27 ene8.jpg" alt="Imagen Semana 16">
           <img data-src="Imagenes/27 ene10.jpg" alt="Imagen Semana 16">
          <img data-src="Imagenes/27 ene11.jpg" alt="Imagen Semana 16">
           <img data-src="Imagenes/27 ene13.jpg" alt="Imagen Semana 16">
           <img data-src="Imagenes/27 ene14.jpg" alt="Imagen Semana 16">
           <img data-src="Imagenes/27 ene19.jpg" alt="Imagen Semana 16">
           <img data-src="Imagenes/27 ene24.jpg" alt="Imagen Semana 16">
          <p>Escribe aqu√≠ el texto descriptivo de la Semana 16</p>

          <div class="actions">
            <button class="btn primary details-btn" type="button" aria-expanded="false">Detalle</button>
            <button class="btn more-btn" type="button" aria-expanded="false">Ver m√°s</button>
            <a class="btn" href="#" onclick="alert('Abrir comentarios (demo)'); return false;">Comentarios</a>
          </div>

          <div class="details-panel" hidden>
            <div class="details-row">
              <button class="media-btn" type="button" data-media="audio">üéß Audio</button>
              <button class="media-btn" type="button" data-media="video">üé¨ Video</button>
            </div>

            <div class="media-title" data-media-title>Selecciona Audio o Video</div>
            <ul class="media-list" data-media-list></ul>
          </div>
        </article>

      </div>
    </section>
  </div>

  <footer>
    Proyecto Acad√©mico Interdisciplinario ¬∑ Universidad de las Artes ¬∑
  </footer>

  <script>
    // ========= IM√ÅGENES =========
    document.querySelectorAll("img[data-src]").forEach(img => {
      const src = (img.getAttribute("data-src") || "").trim();
      if (src && !src.includes("[") && !src.includes("ruta-de-la-imagen")) {
        img.src = src;
        img.style.display = "block";
      }
    });

    // ========= LIBRER√çA DE MEDIOS (AQU√ç PEGAS TUS LINKS) =========
    const MEDIA_LIBRARY = {
      9: {audio: [{ title: "Audio 1 ¬∑ Pingullo", url: "audios/sonido pingullo.wav" },
                  { title: "Audio 2 ¬∑ Piano", url: "audios/piano.wav" }],
          video: []},

      10: {audio: [{title: "Audio 1 .", url:" " }],
           video: [{ title: "Video 1 ¬∑", url:" " }]},

      11: {audio: [{title: "Audio 1 .", url:" " }],
           video: [{ title: "Video 1 ¬∑", url:" " }]},

      12: {audio: [{title: "Audio 1 ¬∑ Aplausos y Golpes", url:"audios/aplausos.wav" }],
           video: [{ title: "Video 1 ¬∑", url:" " }]},

      13: {audio: [{title: "Audio 1 .", url:" " }],
           video: [{ title: "Video 1 ¬∑", url:" " }]},

      14: {audio: [{title: "Audio 1 . Calle Pirotecnia", url:"audios/pirotecnia en la calle 1.wav" },
                   {title: "Audio 2 ¬∑ Calle Pirotecnia 2", url: "audios/pirotecnia en la calle.wav" }],
           video: [{ title: "Video 1 ¬∑", url:" " }]},

      15: {audio: [{title: "Audio 1 . Ventilador", url:"audios/ventilador.wav" },
                   {title: "Audio 2 ¬∑ Call Center", url: "audios/call center.wav" }],
           video: [{ title: "Video 1 ¬∑", url:" " }]},

      16: {audio: [{title: "Audio 1 .", url:"audios/trabajo final.mp3" }],
           video: [{ title: "Video 1 ¬∑", url:" " }]},
    };

    function renderMediaList(card, type){
      const week = Number(card.getAttribute("data-week"));
      const lib = MEDIA_LIBRARY[week] || { audio: [], video: [] };
      const items = (lib[type] || []);

      const titleEl = card.querySelector("[data-media-title]");
      const listEl = card.querySelector("[data-media-list]");
      if (!titleEl || !listEl) return;

      titleEl.textContent = (type === "audio") ? "Lista de audios" : "Lista de videos";
      listEl.innerHTML = "";

      if (items.length === 0) {
        const li = document.createElement("li");
        li.innerHTML = `<a href="#" onclick="return false;">
          No hay archivos a√∫n <span class="pill">vac√≠o</span>
        </a>`;
        listEl.appendChild(li);
        return;
      }

      items.forEach((it) => {
        const li = document.createElement("li");
        li.innerHTML = `
          <a href="${it.url}" target="_blank" rel="noopener">
            <span>${it.title}</span>
            <span class="pill">${type === "audio" ? "audio" : "video"}</span>
          </a>
        `;
        listEl.appendChild(li);
      });
    }

    // ========= SCROLL HORIZONTAL A TARJETA =========
    const container = document.getElementById("cards");
    function scrollToCard(id){
      const el = document.querySelector(id);
      if (!el || !container) return;
      const left = el.offsetLeft - 12;
      container.scrollTo({ left, behavior: "smooth" });
    }

    // ========= SIEMPRE EMPEZAR EN SEMANA 9 =========
    function forceStartAtWeek9(){
      if (!container) return;
      if (location.hash) history.replaceState(null, "", location.pathname + location.search);
      container.scrollTo({ left: 0, behavior: "auto" });
    }
    window.addEventListener("load", forceStartAtWeek9);
    window.addEventListener("pageshow", forceStartAtWeek9);

    // ========= DROPDOWNS (SEMANAS + TOOLS) =========
    const hamburgerBtn = document.getElementById("hamburger");
    const weeksMenu = document.getElementById("weeksMenu");
    const toolsBtn = document.getElementById("toolsBtn");
    const toolsMenu = document.getElementById("toolsMenu");
    const header = document.getElementById("mainHeader");

    function closeDropdown(btn, menu){
      if (!btn || !menu) return;
      menu.classList.remove("open");
      btn.setAttribute("aria-expanded", "false");
    }
    function closeAllMain(){
      closeDropdown(hamburgerBtn, weeksMenu);
      closeDropdown(toolsBtn, toolsMenu);
    }
    function toggle(btn, menu){
      const open = !menu.classList.contains("open");
      closeAllMain();
      menu.classList.toggle("open", open);
      btn.setAttribute("aria-expanded", String(open));
    }

    function positionTools(){
      if (!header || !toolsBtn || !toolsMenu) return;
      const rect = header.getBoundingClientRect();
      const topForDots = rect.bottom + 1;
      toolsBtn.style.top = topForDots + "px";

      const btnRect = toolsBtn.getBoundingClientRect();
      toolsMenu.style.top = (btnRect.bottom + 10) + "px";
    }
    window.addEventListener("load", positionTools);
    window.addEventListener("resize", positionTools);
    window.addEventListener("scroll", positionTools, { passive: true });
    window.addEventListener("pageshow", positionTools);

    hamburgerBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      toggle(hamburgerBtn, weeksMenu);
    });

    weeksMenu.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        const id = a.getAttribute("href");
        if (!id) return;
        scrollToCard(id);
        closeAllMain();
      });
    });

    toolsBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      positionTools();
      toggle(toolsBtn, toolsMenu);
    });

    weeksMenu.addEventListener("click", (e) => e.stopPropagation());
    toolsMenu.addEventListener("click", (e) => e.stopPropagation());

    // ========= MEN√ö CONTEXTUAL EN TARJETAS (‚ãÆ) =========
    function closeAllContextMenus(){
      document.querySelectorAll(".ctx-menu.open").forEach(menu => menu.classList.remove("open"));
      document.querySelectorAll(".dots[aria-expanded='true']").forEach(btn => btn.setAttribute("aria-expanded", "false"));
    }

    document.addEventListener("click", (e) => {
      const dotsBtn = e.target.closest(".dots");
      const ctxItem = e.target.closest(".ctx-item");

      if (ctxItem) {
        e.preventDefault();
        e.stopPropagation();

        const card = ctxItem.closest(".card");
        const action = ctxItem.getAttribute("data-action");
        const week = card?.getAttribute("data-week") || card?.id || "?";

        if (action === "edit") alert("Editar tarjeta: " + week);
        if (action === "delete") alert("Eliminar tarjeta: " + week);
        if (action === "share") alert("Compartir tarjeta: " + week);

        closeAllContextMenus();
        return;
      }

      if (dotsBtn) {
        e.preventDefault();
        e.stopPropagation();
        closeAllMain();

        const card = dotsBtn.closest(".card");
        const menu = card?.querySelector(".ctx-menu");
        if (!menu) return;

        const open = !menu.classList.contains("open");
        closeAllContextMenus();
        menu.classList.toggle("open", open);
        dotsBtn.setAttribute("aria-expanded", String(open));
        return;
      }

      closeAllMain();
      closeAllContextMenus();
    }, true);

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        closeAllMain();
        closeAllContextMenus();
      }
    });

    // ========= DETALLE (Audio/Video) =========
    function closeAllDetailsPanels(exceptCard){
      document.querySelectorAll(".card").forEach(card => {
        if (exceptCard && card === exceptCard) return;

        const panel = card.querySelector(".details-panel");
        const btn = card.querySelector(".details-btn");

        if (panel) panel.hidden = true;
        if (btn) btn.setAttribute("aria-expanded", "false");
      });
    }

    document.addEventListener("click", (e) => {
      const detailsBtn = e.target.closest(".details-btn");
      const mediaBtn = e.target.closest(".media-btn");

      if (detailsBtn) {
        e.preventDefault();
        e.stopPropagation();

        const card = detailsBtn.closest(".card");
        const panel = card?.querySelector(".details-panel");
        if (!panel) return;

        const willOpen = panel.hidden;
        closeAllDetailsPanels(card);
        panel.hidden = !willOpen;
        detailsBtn.setAttribute("aria-expanded", String(willOpen));
        return;
      }

      if (mediaBtn) {
        e.preventDefault();
        e.stopPropagation();

        const type = mediaBtn.getAttribute("data-media");
        const card = mediaBtn.closest(".card");
        if (!card) return;

        renderMediaList(card, type);
        return;
      }

      closeAllDetailsPanels();
    }, true);

    // ========= VER M√ÅS / VER MENOS (solo aparece si hace falta) =========
    function initReadMoreButtons(){
      document.querySelectorAll(".card").forEach(card => {
        const p = card.querySelector("p");
        const btn = card.querySelector(".more-btn");
        if (!p || !btn) return;

        p.classList.remove("expanded");
        btn.textContent = "Ver m√°s";
        btn.setAttribute("aria-expanded", "false");

        const clampH = p.getBoundingClientRect().height;

        p.classList.add("expanded");
        const fullH = p.getBoundingClientRect().height;
        p.classList.remove("expanded");

        const needs = (fullH - clampH) > 2;
        btn.style.display = needs ? "inline-flex" : "none";
      });
    }

    document.addEventListener("click", (e) => {
      const moreBtn = e.target.closest(".more-btn");
      if (!moreBtn) return;

      e.preventDefault();
      e.stopPropagation();

      const card = moreBtn.closest(".card");
      if (!card) return;

      const p = card.querySelector("p");
      if (!p) return;

      const expanded = p.classList.toggle("expanded");
      moreBtn.textContent = expanded ? "Ver menos" : "Ver m√°s";
      moreBtn.setAttribute("aria-expanded", String(expanded));
    }, true);

    window.addEventListener("load", initReadMoreButtons);
    window.addEventListener("resize", initReadMoreButtons);
    window.addEventListener("pageshow", initReadMoreButtons);
  </script>
</body>
</html>
